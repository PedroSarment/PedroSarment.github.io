import{a as y,Q as f}from"./QCardSection.575b10b5.js";import{Q as q}from"./QDialog.ce425469.js";import{_ as k,o as r,i as _,f as s,e as o,g as t,t as a,j as d,q as S,s as j,r as b,b as h,c as I,F as E,l as D,m as N,h as C}from"./index.9a6f9dac.js";import"./use-dark.2d9abea5.js";import"./use-timeout.f515c8b0.js";import"./focus-manager.05708ea9.js";const P={name:"ActivityExtra",props:{titulo:String,nivel:String,tipoDeEducacao:String,faixaEtaria:String,nota:Number,preco:Number,CampoDeExperiencia:String},computed:{defIcon(){return this.CampoDeExperiencia==="Escuta, fala, pensamento e imagina\xE7\xE3o"?"/icons/area5.svg":this.CampoDeExperiencia==="Corpo, gestos e movimento"?"/icons/area4.svg":this.CampoDeExperiencia==="Espa\xE7os, tempo e quantidades,..."?"/icons/area3.svg":this.CampoDeExperiencia==="Tra\xE7os, sons, cores e formas"?"/icons/area2.svg":"/icons/area1.svg"}}},B=e=>(S("data-v-36b0578e"),e=e(),j(),e),Q={class:"q-pa-xs row items-start q-gutter-md"},z={class:"icons"},T=["src"],V={class:"price-rating"},O={class:"price"},R={class:"rating"},F=B(()=>t("img",{src:"/icons/half-star2.svg",alt:"icon"},null,-1)),J={class:"titulo"},L={class:"conteudo"},U={class:"conteudo"},G={class:"conteudo"};function H(e,l,p,u,i,c){return r(),_("div",Q,[s(f,{class:"my-card"},{default:o(()=>[s(y,{class:"imagem-fundo"},{default:o(()=>[t("div",z,[t("img",{class:"ic2",src:c.defIcon,alt:"\xCDcone de Experi\xEAncia"},null,8,T),t("section",V,[t("div",O,"R$ "+a(p.preco),1),t("div",R,[F,d(" "+a(p.nota),1)])])])]),_:1}),s(y,{class:"textos"},{default:o(()=>[t("div",J,a(p.titulo),1),t("div",L,"N\xEDvel: "+a(p.nivel),1),t("div",U,a(p.tipoDeEducacao),1),t("div",G,a(p.faixaEtaria),1)]),_:1})]),_:1})])}var K=k(P,[["render",H],["__scopeId","data-v-36b0578e"]]);const M={name:"DetailsPage",components:{ActivityExtra:K},data(){return{activity:null}},setup(){return{dialog:b(!1),cancelEnabled:b(!1)}},created(){const e=this.$route.params.dados,l=JSON.parse(e);console.log(l),this.activity=l},async mounted(){await this.getActivitys()},methods:{formatDate(e){return console.log("aquiiii",e),new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})},async getToken(){return localStorage.getItem("token")},async onSubmit(){const e=this.getToken(),l="https://pontea.000webhostapp.com/api/shopping_carts/store",p={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e}`};let u={activity_id:this.activity.id},i=await fetch(l,{method:"POST",headers:p,body:JSON.stringify(u)}).then(c=>{console.log("compra",c);let g="";if(c.ok)g="Atividade comprada com sucesso!";else throw g="N\xE3o foi poss\xEDvel comprar a atividade",console.log(c.json()),new Error("Erro na resposta da API");return this.$q.notify(g),c.json()}).then(c=>{console.log(c)}).catch(c=>{console.error("Erro na solicita\xE7\xE3o \xE0 API:",c)});console.log(u),console.log(i)}}},m=e=>(S("data-v-62c5732c"),e=e(),j(),e),W={class:"q-pa-md example-row-all-breakpoints"},X={class:"row"},Y={class:"col-3 column",style:{height:"100%"}},Z={class:"flex col",style:{width:"100%","justify-content":"center",margin:"0"}},$=m(()=>t("img",{src:"/../icons/share.svg",alt:"Compartilhar",class:"icon-svg"},null,-1)),tt=m(()=>t("h5",{style:{margin:"10px"}},"Compartilhe a atividade.",-1)),et=m(()=>t("span",{class:"flex",style:{"justify-content":"center"}},"Copie o link da atividade",-1)),st={class:"col"},it={class:"duvidas"},ot={style:{margin:"0px","font-size":"1rem"}},at={style:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%","padding-bottom":"0px"}},nt=["src"],ct={key:1,src:"/images/user-icon.jpg"},lt={class:"column"},rt=m(()=>t("div",{class:"col-4"},[t("img",{src:"/../icons/mesage.svg",alt:"mensagem",class:"icon-svg"})],-1)),dt={class:"col-10 q-ml-sm",style:{color:"var(--Azul, #144EC0)"}},_t={class:"col-9"},pt={class:"row"},mt={class:"col-10"},ut={style:{"margin-top":"0px","margin-bottom":"0px"}},gt={class:"col-2"},vt={class:"row",style:{padding:"10px 15px","margin-top":"0px"}},ht={class:"row",style:{padding:"10px 15px","margin-top":"0px"}},yt=m(()=>t("h6",{style:{padding:"10px 15px",margin:"0px"}},"Coment\xE1rios sobre a atividade",-1)),ft={class:"duvida row",style:{width:"100%"}},xt={style:{width:"100%"}},wt={style:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%","padding-bottom":"0px"}},bt={style:{width:"100%"}},Et=["src"],Dt={key:1,src:"/images/user-icon.jpg"},Ct={class:"info row rating flex",style:{"justify-content":"flex-start","align-items":"center","margin-left":"2rem","padding-top":"0"}},kt=m(()=>t("img",{src:"/icons/half-star.svg",alt:"icon",class:"icon",style:{width:"15px",height:"15px","margin-left":"5px"}},null,-1)),St=m(()=>t("span",{style:{"margin-left":"10px","margin-right":"0"}},"Recomendo",-1)),jt=m(()=>t("h6",{style:{padding:"10px 15px",margin:"0px"}},"Atividades semelhantes",-1));function At(e,l,p,u,i,c){const g=h("ActivityExtra"),x=h("text-caption"),w=h("text-subtitle2"),v=h("text-subtitle1"),A=h("text-body1");return r(),_("div",W,[t("div",X,[t("div",Y,[t("div",Z,[(r(),I(g,{id:i.activity.id,key:i.activity.title,titulo:i.activity.title,nivel:i.activity.level.id,tipoDeEducacao:i.activity.age_group.id,faixaEtaria:i.activity.age_group.title,nota:i.activity.note,preco:i.activity.price,CampoDeExperiencia:i.activity.area.title,class:"card-atividade"},null,8,["id","titulo","nivel","tipoDeEducacao","faixaEtaria","nota","preco","CampoDeExperiencia"]))]),t("div",{class:"col flex q-ma-md",style:{"justify-content":"center",cursor:"pointer"},onClick:l[0]||(l[0]=n=>u.dialog=!0)},[$,s(x,null,{default:o(()=>[d("Compartilhar atividade")]),_:1})]),s(q,{modelValue:u.dialog,"onUpdate:modelValue":l[1]||(l[1]=n=>u.dialog=n)},{default:o(()=>[s(f,null,{default:o(()=>[s(y,{class:"items-center"},{default:o(()=>[tt,et]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",st,[t("div",it,[t("h6",ot,"Duvidas da atividade ("+a(i.activity.questions.length)+")",1),(r(!0),_(E,null,D(i.activity.questions,n=>(r(),_("div",{class:"duvida row",key:n.created_at},[t("div",at,[t("div",null,[s(C,{class:"avatar",size:"25px"},{default:o(()=>[e.img_src?(r(),_("img",{key:0,src:e.img_src},null,8,nt)):(r(),_("img",ct))]),_:1}),s(w,{class:"text-weight-medium",style:{"margin-left":"0.8rem"}},{default:o(()=>[d(a(n.user.name),1)]),_:2},1024)]),s(v,{style:{display:"flex","text-align":"right",color:"gray"}},{default:o(()=>[d("em "+a(c.formatDate(n.created_at)),1)]),_:2},1024)]),s(v,{class:"flex",style:{"margin-top":"-30px","margin-bottom":"10px",margin:"3px",width:"100%","justify-content":"center","padding-right":"1rem","white-space":"pre-wrap"}},{default:o(()=>[d(a(n.question),1)]),_:2},1024),t("div",lt,[rt,t("div",dt,a(n.response),1)])]))),128))])])]),t("div",_t,[t("div",pt,[t("div",mt,[t("h4",ut,a(i.activity.title),1),s(v,{class:"text-weight-bold"},{default:o(()=>[d(a(i.activity.area.title),1)]),_:1})]),t("div",gt,[s(N,{label:"Comprar",type:"submit","no-caps":"",class:"submit-btn",onSubmit:l[2]||(l[2]=n=>c.onSubmit())})])]),t("div",vt,[s(x,null,{default:o(()=>[d("Por "+a(i.activity.created_by_user.name),1)]),_:1})]),t("div",ht,[s(A,{style:{"font-size":"1rem"}},{default:o(()=>[d("Por "+a(i.activity.description),1)]),_:1})]),yt,t("div",null,[(r(!0),_(E,null,D(i.activity.comments,n=>(r(),_("div",{class:"row",key:n.created_at},[s(f,{style:{width:"30%"}},{default:o(()=>[t("div",ft,[t("div",xt,[t("div",wt,[t("div",bt,[s(C,{class:"avatar",size:"25px"},{default:o(()=>[e.img_src?(r(),_("img",{key:0,src:e.img_src},null,8,Et)):(r(),_("img",Dt))]),_:1}),s(w,{class:"text-weight-medium",style:{"margin-left":"0.8rem"}},{default:o(()=>[d(a(n.user.name),1)]),_:2},1024)]),s(v,{style:{display:"flex","text-align":"right",color:"gray","white-space":"nowrap"}},{default:o(()=>[d("em "+a(c.formatDate(n.created_at)),1)]),_:2},1024)]),t("div",Ct,[t("span",null,a(n.note),1),kt,St])]),s(v,{class:"flex",style:{"margin-top":"-30px","margin-bottom":"10px",margin:"3px",width:"100%","justify-content":"center","padding-right":"1rem","white-space":"pre-wrap"}},{default:o(()=>[d(a(n.text),1)]),_:2},1024)])]),_:2},1024)]))),128))]),jt])])])}var zt=k(M,[["render",At],["__scopeId","data-v-62c5732c"]]);export{zt as default};
