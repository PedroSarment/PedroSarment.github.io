import{_,b as S,o as b,i as y,f as o,e as a,j as l,aB as m,m as p}from"./index.9a6f9dac.js";import{A as C,Q as c,C as d}from"./AuthComponent.b01c1576.js";import{Q as u}from"./QCardSection.575b10b5.js";import{Q as g}from"./QDialog.ce425469.js";import"./QInput.08296851.js";import"./use-dark.2d9abea5.js";import"./uid.42677368.js";import"./focus-manager.05708ea9.js";import"./use-form.18ebe16c.js";import"./QForm.28798de0.js";import"./QImg.4b426e8e.js";import"./use-timeout.f515c8b0.js";localStorage.clear();const E={name:"LoginPage",components:{AuthComponent:C},data(){return{erroSenha:!1,erroEmail:!1}},methods:{onSubmit(n){const t={"Content-Type":"application/json",Accept:"application/json"};let s={email:n.email,password:n.senha};fetch("https://pontea.000webhostapp.com/api/login",{method:"POST",headers:t,body:JSON.stringify(s)}).then(e=>{if(!e.ok)throw this.erroLogin=!0,new Error("Erro na resposta da API");return e.json()}).then(e=>{console.log(e),e.message==="Incorrect password"?this.erroSenha=!0:e.message==="We could not find a user with that email"&&(this.erroEmail=!0),e.token&&(localStorage.setItem("token",e.token),this.$router.push("/home"))}).catch(e=>{console.error("Erro na solicita\xE7\xE3o \xE0 API:",e)})}}},v={class:"card-container"};function V(n,t,s,e,r,f){const h=S("AuthComponent");return b(),y("div",v,[o(g,{modelValue:r.erroSenha,"onUpdate:modelValue":t[0]||(t[0]=i=>r.erroSenha=i)},{default:a(()=>[o(u,{style:{padding:"10px"}},{default:a(()=>[l(" Senha incorreta "),o(c,{align:"right"},{default:a(()=>[m(o(p,{flat:"",label:"OK",color:"primary"},null,512),[[d]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(g,{modelValue:r.erroEmail,"onUpdate:modelValue":t[1]||(t[1]=i=>r.erroEmail=i)},{default:a(()=>[o(u,{style:{padding:"10px"}},{default:a(()=>[l(" Email n\xE3o cadastrado "),o(c,{align:"right"},{default:a(()=>[m(o(p,{flat:"",label:"OK",color:"primary"},null,512),[[d]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(h,{cadastro:!1,titulo:"Boas-Vindas!",descricao:"Entre na sua conta e acesse a nossa biblioteca de atividades completa.",img_src:"/images/loginpage-image.jpg",onLoginSubmit:f.onSubmit},null,8,["onLoginSubmit"])])}var T=_(E,[["render",V],["__scopeId","data-v-a1fa36e2"]]);export{T as default};
