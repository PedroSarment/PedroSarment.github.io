import{P as g}from"./ProfileComponent.1b8cd582.js";import{A as k}from"./ActivityCard.73fd8fa1.js";import{_ as C,b as _,o as i,i as s,g as r,c as d,k as l,F as v,l as h}from"./index.a99d2ae6.js";import"./QCardSection.c4b5c7f4.js";import"./use-dark.7d681600.js";const w={name:"PerfilCliente",components:{ProfileComponent:g,ActivityCard:k},async mounted(){try{await this.getPerfilCliente()}catch(o){console.error(o)}},data(){return{perfil:null,purchased_activities:null,created_activities:null}},methods:{async getToken(){return localStorage.getItem("token")},async getPerfilCliente(){try{const o=await this.getToken(),a={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${o}`},c=await fetch("/api/profile",{method:"GET",headers:a});if(!c.ok)throw new Error("Network response was not ok");const n=await c.json();console.log("perfil",n),this.perfil=n.user,this.purchased_activities=n.user.purchasedActivities,this.created_activities=n.user.createdActivities,console.log(n)}catch(o){console.error(o)}},redirectToDetails(o){const a=JSON.stringify(o);this.$router.push({name:"DetailsPage",params:{dados:a}})}}},P={class:"container"},A={class:"activities"},D={key:0,class:"available-activities"},E=r("h2",{class:"title"},"Atividades dispon\xEDveis",-1),x={key:0,class:"flex"},y={key:1,class:"purchased-activities"},T=r("h2",{class:"title"},"Minhas atividades disponibilizadas",-1),B={key:0,class:"flex"},j=r("div",{class:"new-activity"},[r("img",{src:"/icons/add.svg",alt:"icon"})],-1);function b(o,a,c,n,t,p){const m=_("ProfileComponent"),u=_("ActivityCard");return i(),s("div",P,[r("div",null,[t.perfil?(i(),d(m,{key:0,showBtn:!0,user:t.perfil},null,8,["user"])):l("",!0)]),r("section",A,[t.purchased_activities&&t.purchased_activities.length>0?(i(),s("div",D,[E,t.purchased_activities.length>0?(i(),s("div",x,[(i(!0),s(v,null,h(t.purchased_activities,e=>(i(),d(u,{style:{cursor:"pointer"},id:e.id,key:e.title,titulo:e.title,nivel:e.level_id,tipoDeEducacao:e.age_group_id,faixaEtaria:"0 a 1 ano e 6 meses",nota:e.level_id,preco:e.price,onClick:f=>p.redirectToDetails(e),class:"card-atividade"},null,8,["id","titulo","nivel","tipoDeEducacao","nota","preco","onClick"]))),128))])):l("",!0)])):l("",!0),t.created_activities&&t.created_activities.length>0?(i(),s("div",y,[T,t.created_activities.length>0?(i(),s("div",B,[(i(!0),s(v,null,h(t.created_activities,e=>(i(),d(u,{style:{cursor:"pointer"},id:e.id,key:e.title,titulo:e.title,nivel:e.level_id,tipoDeEducacao:e.age_group_id,faixaEtaria:"0 a 1 ano e 6 meses",nota:e.level_id,preco:e.price,onClick:f=>p.redirectToDetails(e),class:"card-atividade"},null,8,["id","titulo","nivel","tipoDeEducacao","nota","preco","onClick"]))),128)),j])):l("",!0)])):l("",!0)])])}var G=C(w,[["render",b]]);export{G as default};
