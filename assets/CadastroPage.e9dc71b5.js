import{Q as i}from"./QCardSection.575b10b5.js";import{Q as p}from"./QDialog.ce425469.js";import{_ as m,b as u,o as _,i as h,f as a,e as s,j as f,aB as C,m as g,q as S,s as v,g as w}from"./index.9a6f9dac.js";import{A as y,Q as V,C as b}from"./AuthComponent.b01c1576.js";import"./use-dark.2d9abea5.js";import"./use-timeout.f515c8b0.js";import"./focus-manager.05708ea9.js";import"./QInput.08296851.js";import"./uid.42677368.js";import"./use-form.18ebe16c.js";import"./QForm.28798de0.js";import"./QImg.4b426e8e.js";const x={name:"CadastroPage",components:{AuthComponent:y},data(){return{cadastroSucesso:!1,erroCadastro:!1}},methods:{onSubmit(o){const t={"Content-Type":"application/json",Accept:"application/json"};let d={name:o.nome,email:o.email,password:o.senha,password_confirmation:o.confSenha};fetch("https://pontea.000webhostapp.com/api/register",{method:"POST",headers:t,body:JSON.stringify(d)}).then(e=>{if(e.ok)this.showCadastroSucesso();else throw this.erroCadastro=!0,new Error("Erro na resposta da API");return e.json()}).then(e=>{console.log(e)}).catch(e=>{console.error("Erro na solicita\xE7\xE3o \xE0 API:",e)})},showCadastroSucesso(){this.cadastroSucesso=!0,setTimeout(()=>{this.$router.push("/login")},3e3)}}},A=o=>(S("data-v-4c843234"),o=o(),v(),o),P={class:"card-container"},Q=A(()=>w("span",{style:{color:"red"}},"Erro no cadastro. Verifique os dados e tente novamente.",-1));function I(o,t,d,e,r,c){const l=u("AuthComponent");return _(),h("div",P,[a(p,{modelValue:r.cadastroSucesso,"onUpdate:modelValue":t[0]||(t[0]=n=>r.cadastroSucesso=n)},{default:s(()=>[a(i,{style:{padding:"10px"}},{default:s(()=>[f(" Cadastro realizado com sucesso! ")]),_:1})]),_:1},8,["modelValue"]),a(p,{modelValue:r.erroCadastro,"onUpdate:modelValue":t[1]||(t[1]=n=>r.erroCadastro=n)},{default:s(()=>[a(i,{style:{padding:"10px"}},{default:s(()=>[Q,a(V,{align:"right"},{default:s(()=>[C(a(g,{flat:"",label:"OK",color:"primary"},null,512),[[b]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(l,{cadastro:!0,titulo:"Cadastre-se",descricao:"e fa\xE7a parte da comunidade Pontea.",img_src:"/images/cadastro-page.jpg",onCadastroSubmit:c.onSubmit},null,8,["onCadastroSubmit"])])}var K=m(x,[["render",I],["__scopeId","data-v-4c843234"]]);export{K as default};
